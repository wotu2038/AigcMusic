{% extends 'base.html' %}

{% block title %}ç”¨æˆ·æ³¨å†Œ - AigcMusic{% endblock %}

{% block content %}
<div class="logo">
    <h1>ğŸµ AigcMusic</h1>
    <p style="color: #666; margin-top: 10px;">åˆ›å»ºæ‚¨çš„éŸ³ä¹è´¦æˆ·</p>
</div>

<form method="post" action="{% url 'web:register_view' %}">
    {% csrf_token %}
    
    <div class="form-group">
        <label for="phone">æ‰‹æœºå·</label>
        <input type="tel" id="phone" name="phone" placeholder="è¯·è¾“å…¥æ‰‹æœºå·" required>
    </div>
    
    <div class="form-group">
        <label for="nickname">æ˜µç§°ï¼ˆå¯é€‰ï¼‰</label>
        <input type="text" id="nickname" name="nickname" placeholder="è¯·è¾“å…¥æ˜µç§°">
    </div>
    
    <div class="form-group">
        <label for="password">å¯†ç </label>
        <input type="password" id="password" name="password" placeholder="è¯·è¾“å…¥å¯†ç " required>
    </div>
    
    <div class="form-group">
        <label for="password_confirm">ç¡®è®¤å¯†ç </label>
        <input type="password" id="password_confirm" name="password_confirm" placeholder="è¯·å†æ¬¡è¾“å…¥å¯†ç " required>
    </div>
    
    <button type="submit" class="btn" id="registerBtn">æ³¨å†Œ</button>
</form>

{% block extra_js %}
<script>
document.querySelector('form').addEventListener('submit', function(e) {
    const btn = document.getElementById('registerBtn');
    const form = this;
    
    // ç¦ç”¨æŒ‰é’®ï¼Œé˜²æ­¢é‡å¤æäº¤
    btn.disabled = true;
    btn.textContent = 'æ³¨å†Œä¸­...';
    btn.style.opacity = '0.6';
    btn.style.cursor = 'not-allowed';
    
    // å¦‚æœè¡¨å•éªŒè¯å¤±è´¥ï¼Œé‡æ–°å¯ç”¨æŒ‰é’®
    setTimeout(function() {
        if (!form.checkValidity()) {
            btn.disabled = false;
            btn.textContent = 'æ³¨å†Œ';
            btn.style.opacity = '1';
            btn.style.cursor = 'pointer';
        }
    }, 100);
});
</script>
{% endblock %}

<div class="link">
    <p>å·²æœ‰è´¦æˆ·ï¼Ÿ<a href="{% url 'web:login_view' %}">ç«‹å³ç™»å½•</a></p>
</div>
{% endblock %}

